<div class="container mt-5">
    <div class="card" style="padding: 20px ;">
        <form 
            #loginForm="ngForm" 
            (ngSubmit)="loginForm.form.valid && login()"
            *ngIf="!isLoggedIn"
            name="form"
            novalidate
        >
        <div class="form-group">
            <input type="text"
                [(ngModel)]="form.username"
                #username="ngModel"
                name="username"
                id="username"
                required
                placeholder="Enter Username"
                class="form-control mb-3"
                [ngClass]="{'is-invalid': loginForm.submitted && username.errors}"
            >
            <div *ngIf="username.errors && loginForm.submitted"
            class="invalid-feedback">
                Username is required
            </div>
        </div>
        <div class="form-group">
            <input 
                type="password"
                [(ngModel)]="form.password"
                #password="ngModel"
                name="password"
                id="password"
                minlength="6"
                required
                placeholder="Enter Password"
                class="form-control mb-3"
                [ngClass]="{'is-invalid': loginForm.submitted && password.errors}"
            >
            <div *ngIf="password.errors && loginForm.submitted" 
            class="invalid-feedback">
                <div *ngIf="password.errors['required']">Password is required</div>
                <div *ngIf="password.errors['minlength']">
                    Password must be at least 6 characters
                </div>
            </div>
        </div>    
            <input type="submit" value="Login"
             class="btn btn-outline-primary form-control" 
             name="" id="">
        </form>
        <div class="alert alert-success" *ngIf="isLoggedIn">
            Logged in as {{ roles }}.
        </div>

    </div>
</div>
